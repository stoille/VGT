<html lang="en">
<head>
<script src="swfobject.js" type="text/javascript"></script>
		<script src="unityobject.js" type="text/javascript"></script>
		
		<script language="javascript" type="text/javascript"><!--
			//initializations
			var flashMovieName = "VGTGame"
			var flex = new SWFObject('VGTGame.swf', 'VGTGame', '100%', '100%', '10.0', '#869ca7');
			var uniObj = new UnityObject("CarTutorial.unity3d", "Unity3D", "480", "320");
			uniObj.setAttribute("altHTML", "<a href='http://unity3d.com/unitywebplayer.html' title='Go to unity3d.com to install the Unity Web Player'>Install the Unity Web Player</a>");

			function log( msg ){
				var currentTime = new Date();
				var hours = currentTime.getHours();
				var minutes = currentTime.getMinutes();
				var seconds = currentTime.getSeconds();
				var now = hours + ":" + minutes + ":" + seconds;
				document.getElementById("log").innerHTML = "[ "+ now +" ] " + msg + "<br />" + document.getElementById("log").innerHTML;
				
			}
			
			function getFlashMovie(movieName) {
				var isIE = navigator.appName.indexOf("Microsoft") != -1;
				return (isIE) ? window[movieName] : document[movieName];
			}
			
			function UpdateGraph( graphMsg ){
				getFlashMovie(flashMovieName).updateGraph(graphMsg);
			}
			var updating = false;
			function UpdateGame( gm ){
				uniObj.msg("VGTObject","UpdateGame",gm);						
			
	//document.getElementById("Unity3D_embed").SendMessage("VGTObject","UpdateGame",gm);
			}
			
			function AlertVGTURL(){
				getFlashMovie(flashMovieName).alertVGTURL();
			}
			
			function ShowGraphLink(linkInfo){ 
				document.getElementById("linkInfoArea").innerHTML =  linkInfo;
			}
			
			function ShowConnectionStatus(status){
					document.getElementById("statusInfoArea").innerHTML =  status;
			}
		
		--></script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!--  BEGIN Browser History required section -->
<link rel="stylesheet" type="text/css" href="history/history.css" />
<!--  END Browser History required section -->

<title></title>
<script src="AC_OETags.js" language="javascript"></script>
 
<!--  BEGIN Browser History required section -->
<script src="history/history.js" language="javascript"></script>
<!--  END Browser History required section -->

<style>
body { margin: 0px; overflow:hidden }
</style>
<script language="JavaScript" type="text/javascript">
</script>
</head>

<body bgcolor=#FFFFFF >
<center>

		<div style="float:top;">
			<div id="header">Visual Game Tuning Example</div>
		</div>
		
		<div style="float:center;">
			<div id="flashContent" style="width:0px; height:0px;"></div>
			<script>				
				flex.write("flashContent");
			</script>
		</div>

		<div style="float:center;">
			<table>
				<tr>
				<td>
					<div id="unity" >
						<script type="text/javascript">
							uniObj.write();
						</script>
				</td>
				</tr>
				<tr>
				<td>
					<span id="linkInfoArea"></span>
				</td>
				</tr>
				<tr>
				<td>
					<span id="statusInfoArea"></span>
				</td>
				</tr>
				<tr>
				<td>
						<form name="commentTypeForm" >
						<textarea name="commentArea" rows="5" cols="60"></textarea><br>
							Comment type:
						<input type="radio" name="comment" value="!general" checked> General
						<input type="radio" name="comment" value="!bug"> Bug
						<input type="radio" name="comment" value="!voice"> Voice
						<input type="radio" name="comment" value="!screen"> Screen<br>
						</form>
						<input type="button" value="Submit" onclick="SendComment()"/>
				
				</td>
				</tr>
			</div>
		</div>
		
		<script type="text/javascript">
			function SendComment(){
				var commentType = '';
				for(var i = 0; i < document.commentTypeForm.comment.length; ++i){
					if(document.commentTypeForm.comment[i].checked){
						commentType = document.commentTypeForm.comment[i].value;
						break;
					}
				}
				var date = new Date();
				var dateString = date.getHours()+':'+date.getMinutes()+':'+date.getSeconds()+'@';
				//for now all comments will act as general comments except their type, denoted by '!typeNum' will be appended. style of msg is "!0,comments"
				getFlashMovie(flashMovieName).updateGraph(dateString+commentType+',' + document.commentTypeForm.commentArea.value);
			}
		</script>
</center>
</body>
</html>
